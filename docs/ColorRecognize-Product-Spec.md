# ColorRecognize - Product Spec

## 1. 产品概述

### 1.1 产品定位
ColorRecognize 是一款专业的屏幕颜色拾取工具，支持实时取色、颜色格式转换、AI 颜色分析的一站式颜色管理工具。

### 1.2 目标用户
- **主要用户**：设计师、前端开发者、UI/UX 设计师、品牌设计师
- **使用场景**：
  1. 设计稿中提取灵感颜色
  2. 开发中快速获取屏幕任意位置的颜色值
  3. 参考竞品网站的配色方案
  4. 整理和保存日常看到的颜色
  5. 获取颜色后转换为不同格式用于项目

### 1.3 核心价值
- 解决设计师/开发者需要同时打开多个工具（取色器、颜色转换器、色板工具）的繁琐
- AI 能力帮助用户理解颜色的语义和最佳搭配，降低配色门槛

---

## 2. 功能需求

### 2.1 核心功能列表

#### 功能1：实时屏幕取色
- **描述**：用户点击取色按钮后，鼠标移动时实时显示光标位置的放大视图和颜色值
- **输入**：用户点击取色按钮激活取色模式
- **输出**：浮动放大镜显示 120×120px 区域，2x 放大，中心显示准星和当前颜色
- **AI能力**：无

#### 功能2：颜色格式转换
- **描述**：自动将当前颜色转换为 HEX、RGB、HSL、CMYK 四种格式
- **输入**：拾取的颜色值
- **输出**：四种格式的颜色值显示，支持一键复制
- **AI能力**：无

#### 功能3：颜色历史记录
- **描述**：自动保存最近拾取的 20 个颜色，形成网格视图
- **输入**：每次成功拾取的颜色
- **输出**：20 个颜色的网格展示，每个色块可点击查看详情
- **AI能力**：无

#### 功能4：AI 颜色分析
- **描述**：使用 AI 分析当前颜色的语义、推荐搭配色盘、给出使用场景建议
- **输入**：当前选中的颜色
- **输出**：颜色语义描述（情感、文化含义）、推荐调色板（5 个搭配色）、使用场景建议
- **AI能力**：文本生成（颜色语义分析）、智能推荐（调色板推荐）

### 2.2 AI 增强功能

#### AI 增强点1：颜色语义解读
- **原始功能**：颜色格式转换
- **AI 增强方式**：分析颜色的情感、文化含义、适用场景
- **使用场景**：用户选中某个颜色后，自动展示 AI 分析结果

#### AI 增强点2：智能调色板推荐
- **原始功能**：颜色历史记录
- **AI 增强方式**：基于当前颜色推荐 5 个搭配色，形成完整调色板
- **使用场景**：用户点击某个历史颜色时，生成推荐调色板

---

## 3. 用户流程

### 3.1 主要用户流程

**流程名称**：拾取颜色并获取 AI 分析

1. **激活取色**
   - 用户点击工具栏「取色」按钮
   - 界面显示快捷键提示（ESC 退出，Enter 确认）
   - 页面的操作区域变为取色提示状态

2. **移动预览**
   - 用户移动鼠标
   - 浮动放大镜跟随光标，显示 120×120px 区域 2x 放大
   - 放大镜中心显示准星和当前 HEX 颜色值

3. **确认取色**
   - 用户点击左键确认取色
   - 颜色添加到历史记录（自动复制到剪贴板）
   - 侧边栏显示颜色详情（4 种格式 + AI 分析）

4. **查看 AI 分析**
   - 侧边栏自动展示：
     - 颜色语义（情感、文化含义）
     - 推荐调色板（5 个搭配色）
     - 使用场景建议

### 3.2 异常流程

**异常情况1**：取色被拒绝
- **触发条件**：用户权限不足或浏览器不支持
- **处理方式**：显示提示，引导用户安装 Chrome 扩展版本

**异常情况2**：历史记录已满
- **触发条件**：已有 20 个颜色记录
- **处理方式**：自动移除最旧的记录，添加新记录到末尾

---

## 4. UI/UX 设计

### 4.1 整体布局

**布局类型**：两栏布局 + 顶部工具栏

**布局结构**：
```
┌─────────────────────────────────────────────────────────────┐
│                      Header (工具栏)                         │
├────────────────────┬────────────────────────────────────────┤
│                    │                                        │
│   颜色详情区       │           颜色历史网格                   │
│   (30% 宽度)      │           (70% 宽度)                    │
│                    │                                        │
│   - 当前颜色块     │   4×5 网格展示 20 个历史颜色             │
│   - 格式列表      │                                        │
│   - AI 分析       │                                        │
│                    │                                        │
└────────────────────┴────────────────────────────────────────┘
```

**各区域说明**：
- **Header**：高度 56px，包含 Logo、取色按钮、快捷键提示
- **左侧详情区**：显示当前颜色、4 种格式（带复制按钮）、AI 分析结果
- **右侧历史区**：20 个颜色的网格，每个色块 80×80px，hover 时显示颜色值

### 4.2 页面详细设计

#### 主页面

**布局**：
- 左侧详情区占 30%（最小宽度 300px）
- 右侧历史网格占 70%
- 响应式：小屏幕时上下布局

**左侧详情区**：
- 当前颜色预览：120×120px 颜色块，圆角 12px
- 格式列表：HEX、RGB、HSL、CMYK 每行一个，右边复制按钮
- AI 分析区：
  - 语义描述：文字段落
  - 推荐调色板：5 个 40×40px 色块横向排列
  - 使用场景：标签列表

**右侧历史网格**：
- 4 列 × 5 行网格
- 每个色块：正方形，hover 时显示 HEX 值
- 点击色块：选中并显示在左侧详情区

**交互细节**：
- 取色按钮点击后，鼠标进入取色模式，页面显示半透明遮罩
- 浮动放大镜：固定 120×120px，2x 放大，中心准星跟随鼠标
- 颜色复制：点击复制按钮后，显示「已复制」Toast，1s 后消失
- AI 分析加载中：显示骨架屏

### 4.3 控件规范

**取色按钮**：
- 位置：Header 右侧
- 尺寸：高度 40px，内边距 0 24px
- 样式：主色调实心按钮，圆角 8px
- 状态：hover 时加深，active 时下凹

**颜色块**：
- 圆角：12px（当前颜色）、4px（历史色块）
- hover 效果：轻微上浮阴影，显示 HEX 值

**复制按钮**：
- 尺寸：24×24px 图标按钮
- 位置：颜色值右侧
- 交互：点击复制，图标变为对勾

**AI 分析区**：
- 背景：浅灰色卡片
- 圆角：12px
- 内边距：16px

---

## 5. Google AI Studio 能力配置

### 5.1 使用的 AI 能力列表

| AI 能力 | 用途 | 使用场景 |
|---------|------|----------|
| 文本生成 | 颜色语义分析 | 用户选中颜色后，生成颜色情感、文化含义描述 |
| 智能推荐 | 调色板推荐 | 基于当前颜色推荐 5 个搭配色 |

### 5.2 能力配置说明

**能力1：文本生成（颜色语义分析）**
- **配置参数**：温度 0.7，生成颜色描述
- **调用时机**：用户选中颜色后自动调用
- **输入格式**：当前颜色 HEX 值，如 "#3B82F6"
- **输出格式**：JSON，包含语义描述（200 字内）、使用场景建议

**能力2：智能推荐（调色板推荐）**
- **配置参数**：温度 0.8，返回 5 个推荐色
- **调用时机**：用户点击历史颜色或取色完成后
- **输入格式**：当前颜色 HEX 值
- **输出格式**：JSON 数组，5 个推荐色的 HEX 值

---

## 6. 技术需求

### 6.1 技术要求
- 需要支持屏幕取色功能（Web 版本使用 EyeDropper API，Chrome 扩展使用 native messaging）
- 需要实时渲染放大镜（Canvas 或 SVG）
- 需要本地存储历史记录（localStorage）

### 6.2 性能要求
- 取色响应延迟 < 50ms
- AI 分析加载时间 < 2s
- 页面首屏加载 < 1s

### 6.3 数据要求
- 历史记录存储在 localStorage，容量 20 条
- 单条记录包含：HEX 值、时间戳、格式转换结果

---

## 7. 优先级规划

### 7.1 第一期（MVP）
- 实时屏幕取色功能
- 4 种颜色格式转换 + 一键复制
- 20 条历史记录网格
- 基础 UI 布局

### 7.2 第二期
- AI 颜色语义分析
- 智能调色板推荐
- 快捷键支持

### 7.3 未来规划
- Chrome 扩展版本
- 颜色导出功能（CSS 变量、SCSS 变量）
- 调色板收藏和分类
- 团队协作色板共享

---

## 8. 参考产品

### 8.1 参考产品列表
- **ColorZilla**：参考了其取色功能和快捷键设计，不参考其付费模式
- **Coolors**：参考了其调色板展示方式，不参考其生成逻辑

### 8.2 差异化说明
- ColorZilla 是浏览器插件，ColorRecognize 提供 Web 版本，更轻量
- Coolors 是手动生成调色板，ColorRecognize 是基于实际拾取颜色进行 AI 推荐，更实用

---

## 9. 待补充事项

- [ ] 确认浮动放大镜的具体样式（边框、阴影样式）
- [ ] 确认 AI 分析的提示词（Prompt）
- [ ] 确认是否需要支持深色/浅色主题

---

## 附录：使用说明

在 Google AI Studio Builder 中使用此 Product Spec 时：

1. **勾选 AI 能力**：在 Builder 中勾选「文本生成」和「智能推荐」能力
2. **配置参数**：根据「能力配置说明」设置各能力的参数
3. **实现功能**：按照「功能需求」和「用户流程」部分实现功能
4. **设计界面**：按照「UI/UX 设计」部分实现界面布局和交互
